# Cloudflare Workers éƒ¨ç½²æŒ‡å—

## ğŸš€ éƒ¨ç½²æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨ Wrangler CLIï¼ˆæ¨èï¼‰

1. **å®‰è£… Wrangler**ï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼‰
   ```bash
   npm install -g wrangler
   ```

2. **ç™»å½• Cloudflare**
   ```bash
   wrangler login
   ```

3. **è¿›å…¥ Workers ç›®å½•**
   ```bash
   cd bettafish-workers
   ```

4. **éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ**
   ```bash
   npm run deploy
   ```
   æˆ–è€…ç›´æ¥ä½¿ç”¨ wrangler:
   ```bash
   wrangler deploy --env production
   ```

### æ–¹æ³• 2: é€šè¿‡ Cloudflare Dashboard

1. **è®¿é—® Workers é¡¹ç›®**
   - è¿›å…¥: https://dash.cloudflare.com
   - å·¦ä¾§èœå•é€‰æ‹© **Workers å’Œ Pages**
   - ç‚¹å‡» `bettafish-api-prod`

2. **ä½¿ç”¨"ç¼–è¾‘ä»£ç "åŠŸèƒ½**
   - ç‚¹å‡»å³ä¸Šè§’çš„ **"<>ç¼–è¾‘ä»£ç "** æŒ‰é’®
   - è¿™ä¼šæ‰“å¼€ Cloudflare çš„åœ¨çº¿ç¼–è¾‘å™¨
   - åœ¨ç¼–è¾‘å™¨ä¸­ï¼Œç‚¹å‡» **"ä¿å­˜å¹¶éƒ¨ç½²"** æŒ‰é’®

3. **æˆ–è€…ä½¿ç”¨"éƒ¨ç½²ç‰ˆæœ¬"åŠŸèƒ½**
   - åœ¨"éƒ¨ç½²"æ ‡ç­¾é¡µä¸­
   - ç‚¹å‡» **"éƒ¨ç½²ç‰ˆæœ¬"** æŒ‰é’®
   - é€‰æ‹©è¦éƒ¨ç½²çš„ç‰ˆæœ¬

### æ–¹æ³• 3: é€šè¿‡ GitHub Actionsï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰

å¦‚æœéœ€è¦è‡ªåŠ¨éƒ¨ç½²ï¼Œå¯ä»¥é…ç½® GitHub Actionsã€‚ä½†ç›®å‰éœ€è¦æ‰‹åŠ¨éƒ¨ç½²ã€‚

## ğŸ“‹ å½“å‰éœ€è¦éƒ¨ç½²çš„æ›´æ”¹

1. âœ… æ–°å¢ `src/routes/proxy.ts` - Streamlit ä»£ç†è·¯ç”±
2. âœ… æ›´æ–° `src/index.ts` - æ³¨å†Œä»£ç†è·¯ç”±

## ğŸ” éªŒè¯éƒ¨ç½²

éƒ¨ç½²åï¼Œæ£€æŸ¥ï¼š

1. **æµ‹è¯•å¥åº·æ£€æŸ¥ç«¯ç‚¹**
   ```bash
   curl https://bettafish-api-prod.keithhe2021.workers.dev/api/health
   ```

2. **æµ‹è¯•ä»£ç†è·¯ç”±**
   ```bash
   curl https://bettafish-api-prod.keithhe2021.workers.dev/api/proxy/insight
   ```

3. **æ£€æŸ¥å‰ç«¯**
   - åˆ·æ–°å‰ç«¯é¡µé¢
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦è¿˜æœ‰é”™è¯¯
   - æµ‹è¯• API è°ƒç”¨æ˜¯å¦æ­£å¸¸

## âš ï¸ æ³¨æ„äº‹é¡¹

- Workers ä¸ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œéœ€è¦æ‰‹åŠ¨è§¦å‘
- ç¡®ä¿ `BACKEND_URL` ç¯å¢ƒå˜é‡å·²æ­£ç¡®é…ç½®
- éƒ¨ç½²åå¯èƒ½éœ€è¦ç­‰å¾…å‡ ç§’é’Ÿæ‰èƒ½ç”Ÿæ•ˆ

