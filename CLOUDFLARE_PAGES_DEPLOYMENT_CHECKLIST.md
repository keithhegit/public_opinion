# Cloudflare Pages éƒ¨ç½²æ£€æŸ¥æ¸…å•

## âœ… ä»£ç å‡†å¤‡ï¼ˆå·²å®Œæˆï¼‰

- [x] å›é€€åˆ°ç¨³å®šç‰ˆæœ¬ (commit 16a2002)
- [x] Next.js é™çº§åˆ° 15.5.2
- [x] æ·»åŠ  @cloudflare/next-on-pages@1.13.0
- [x] ç§»é™¤ output: 'standalone'
- [x] ä¿®å¤ ESLint é…ç½®
- [x] æœ¬åœ°æ„å»ºæµ‹è¯•æˆåŠŸ
- [x] ä»£ç å·²æ¨é€åˆ° `stable-before-forum` åˆ†æ”¯

## ğŸš€ Cloudflare Pages é…ç½®æ­¥éª¤

### æ­¥éª¤ 1: è¿›å…¥ Cloudflare Dashboard

1. è®¿é—®: https://dash.cloudflare.com
2. ç™»å½•è´¦æˆ·
3. å·¦ä¾§èœå•é€‰æ‹© **Pages**

### æ­¥éª¤ 2: åˆ›å»ºæˆ–æ›´æ–°é¡¹ç›®

**å¦‚æœå·²æœ‰é¡¹ç›®**:
- ç‚¹å‡»é¡¹ç›®åç§°
- è¿›å…¥ **Settings** > **Builds & deployments**

**å¦‚æœæ˜¯æ–°é¡¹ç›®**:
- ç‚¹å‡» **Create a project**
- é€‰æ‹© **Connect to Git**
- é€‰æ‹©ä»“åº“: `keithhegit/public_opinion`
- é€‰æ‹©åˆ†æ”¯: `stable-before-forum`ï¼ˆæˆ–åˆå¹¶åˆ° main åé€‰æ‹© mainï¼‰

### æ­¥éª¤ 3: é…ç½®æ„å»ºè®¾ç½®

**æ ¹ç›®å½•**: `bettafish-frontend`

**æ„å»ºå‘½ä»¤**:
```bash
npm install && npm run build && npx @cloudflare/next-on-pages
```

**æ„å»ºè¾“å‡ºç›®å½•**: `.vercel/output/static`

**Framework preset**: `Next.js`

**Node.js ç‰ˆæœ¬**: è‡ªåŠ¨ï¼ˆæˆ–é€‰æ‹© 20.xï¼‰

### æ­¥éª¤ 4: é…ç½®ç¯å¢ƒå˜é‡

ç‚¹å‡» **Add environment variable**:

**å˜é‡ 1**:
- **Name**: `NEXT_PUBLIC_API_URL`
- **Value**: `https://bettafish-api-prod.keithhe2021.workers.dev`
- **Environment**: `Production`ï¼ˆæˆ– `All environments`ï¼‰

### æ­¥éª¤ 5: ä¿å­˜å¹¶éƒ¨ç½²

1. æ£€æŸ¥æ‰€æœ‰é…ç½®
2. ç‚¹å‡» **Save and Deploy**
3. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆ3-5åˆ†é’Ÿï¼‰

## ğŸ” æ„å»ºéªŒè¯

### æˆåŠŸæ ‡å¿—
- âœ… æ„å»ºçŠ¶æ€: Success
- âœ… éƒ¨ç½² URL å¯è®¿é—®
- âœ… é¡µé¢æ­£å¸¸åŠ è½½

### å¦‚æœæ„å»ºå¤±è´¥

1. **æ£€æŸ¥æ„å»ºæ—¥å¿—**
   - æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
   - æ£€æŸ¥ä¾èµ–å®‰è£…æ˜¯å¦æˆåŠŸ
   - æ£€æŸ¥æ„å»ºå‘½ä»¤æ˜¯å¦æ­£ç¡®

2. **å¸¸è§é—®é¢˜**
   - `package-lock.json` ä¸åŒæ­¥ â†’ ä½¿ç”¨ `npm ci` ä»£æ›¿ `npm install`
   - Next.js ç‰ˆæœ¬ä¸å…¼å®¹ â†’ ç¡®è®¤ç‰ˆæœ¬ä¸º 15.5.2
   - @cloudflare/next-on-pages å¤±è´¥ â†’ æ£€æŸ¥ Node.js ç‰ˆæœ¬

## âœ… éƒ¨ç½²åéªŒè¯

1. **è®¿é—®éƒ¨ç½² URL**
   - æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

2. **æµ‹è¯• API è¿æ¥**
   - æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - æ£€æŸ¥ Network æ ‡ç­¾
   - éªŒè¯ API è¯·æ±‚æ˜¯å¦æŒ‡å‘æ­£ç¡®çš„ Workers URL

3. **æµ‹è¯•åŠŸèƒ½**
   - æœç´¢åŠŸèƒ½
   - é…ç½®ç®¡ç†
   - Engine å¯åŠ¨/åœæ­¢
   - æŠ¥å‘Šç”Ÿæˆ

## ğŸ“ é‡è¦æç¤º

- **æœ¬åœ°æµ‹è¯• â‰  ç”Ÿäº§ç¯å¢ƒ**: Cloudflare Pages åœ¨ Linux ç¯å¢ƒæ„å»º
- **ç¯å¢ƒå˜é‡**: å¿…é¡»åœ¨ Cloudflare Pages Dashboard ä¸­é…ç½®
- **API åœ°å€**: ç¡®ä¿æŒ‡å‘æ­£ç¡®çš„ Workers URL
- **CORS**: ç¡®ä¿ Workers å…è®¸ Pages åŸŸåè®¿é—®

## ğŸ¯ ä¸‹ä¸€æ­¥

éƒ¨ç½²æˆåŠŸåï¼š
1. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. æ£€æŸ¥æ€§èƒ½
3. éªŒè¯ API è°ƒç”¨
4. ç¡®è®¤æ‰€æœ‰ Engine æ­£å¸¸å·¥ä½œ

